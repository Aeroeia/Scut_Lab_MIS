{
  "openapi": "3.0.3",
  "info": {
    "title": "华南理工大学计算机学院课程与成绩管理系统API",
    "description": "用于管理课程和成绩信息的管理信息系统API接口文档",
    "version": "1.0.0",
    "contact": {
      "name": "SCUT MIS Team"
    }
  },
  "servers": [
    {
      "url": "http://localhost:8080/api",
      "description": "开发环境"
    }
  ],
  "tags": [
    {
      "name": "auth",
      "description": "用户认证相关接口"
    },
    {
      "name": "student",
      "description": "学生信息管理接口"
    },
    {
      "name": "teacher",
      "description": "教师信息管理接口"
    },
    {
      "name": "course",
      "description": "课程信息管理接口"
    },
    {
      "name": "course-selection",
      "description": "选课信息管理接口"
    },
    {
      "name": "score",
      "description": "成绩管理接口"
    },
    {
      "name": "statistics",
      "description": "统计分析接口"
    }
  ],
  "paths": {
    "/auth/login": {
      "post": {
        "tags": ["auth"],
        "summary": "用户登录",
        "description": "用户登录系统获取认证令牌",
        "operationId": "login",
        "requestBody": {
          "description": "登录信息",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "登录成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginResponse"
                }
              }
            }
          },
          "401": {
            "description": "用户名或密码错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/auth/logout": {
      "post": {
        "tags": ["auth"],
        "summary": "用户登出",
        "description": "用户登出系统",
        "operationId": "logout",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "登出成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/students": {
      "get": {
        "tags": ["student"],
        "summary": "获取学生列表",
        "description": "分页获取学生列表信息",
        "operationId": "getStudents",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "每页条数",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 10
            }
          },
          {
            "name": "name",
            "in": "query",
            "description": "学生姓名",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "class",
            "in": "query",
            "description": "班级",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "查询成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StudentPageResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["student"],
        "summary": "添加学生",
        "description": "添加新学生信息",
        "operationId": "addStudent",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "description": "学生信息",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StudentRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StudentResponse"
                }
              }
            }
          },
          "400": {
            "description": "参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/students/{studentId}": {
      "get": {
        "tags": ["student"],
        "summary": "获取学生详情",
        "description": "根据学号获取学生详细信息",
        "operationId": "getStudentById",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "studentId",
            "in": "path",
            "description": "学号",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "查询成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StudentDetailResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "学生不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": ["student"],
        "summary": "修改学生信息",
        "description": "修改指定学号的学生信息",
        "operationId": "updateStudent",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "studentId",
            "in": "path",
            "description": "学号",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "description": "学生信息",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StudentRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "修改成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StudentResponse"
                }
              }
            }
          },
          "400": {
            "description": "参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "学生不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["student"],
        "summary": "删除学生",
        "description": "删除指定学号的学生信息",
        "operationId": "deleteStudent",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "studentId",
            "in": "path",
            "description": "学号",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "学生不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/students/{studentId}/courses": {
      "get": {
        "tags": ["student", "course-selection"],
        "summary": "获取学生选课信息",
        "description": "获取指定学生的选课信息",
        "operationId": "getStudentCourses",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "studentId",
            "in": "path",
            "description": "学号",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "year",
            "in": "query",
            "description": "选课年份",
            "required": false,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "查询成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StudentCourseResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "学生不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/teachers": {
      "get": {
        "tags": ["teacher"],
        "summary": "获取教师列表",
        "description": "分页获取教师列表信息",
        "operationId": "getTeachers",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "每页条数",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 10
            }
          },
          {
            "name": "name",
            "in": "query",
            "description": "教师姓名",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "查询成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TeacherPageResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["teacher"],
        "summary": "添加教师",
        "description": "添加新教师信息",
        "operationId": "addTeacher",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "description": "教师信息",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TeacherRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TeacherResponse"
                }
              }
            }
          },
          "400": {
            "description": "参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/teachers/{teacherId}": {
      "get": {
        "tags": ["teacher"],
        "summary": "获取教师详情",
        "description": "根据教师编号获取教师详细信息",
        "operationId": "getTeacherById",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "teacherId",
            "in": "path",
            "description": "教师编号",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "查询成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TeacherDetailResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "教师不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": ["teacher"],
        "summary": "修改教师信息",
        "description": "修改指定教师编号的教师信息",
        "operationId": "updateTeacher",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "teacherId",
            "in": "path",
            "description": "教师编号",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "description": "教师信息",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TeacherRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "修改成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TeacherResponse"
                }
              }
            }
          },
          "400": {
            "description": "参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "教师不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["teacher"],
        "summary": "删除教师",
        "description": "删除指定教师编号的教师信息",
        "operationId": "deleteTeacher",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "teacherId",
            "in": "path",
            "description": "教师编号",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "教师不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "/teachers/{teacherId}/courses": {
        "get": {
          "tags": ["teacher", "course"],
          "summary": "获取教师可教授课程",
          "description": "获取指定教师可教授的课程列表",
          "operationId": "getTeacherCourses",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "teacherId",
              "in": "path",
              "description": "教师编号",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "查询成功",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/TeacherCourseResponse"
                  }
                }
              }
            },
            "401": {
              "description": "未授权",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  }
                }
              }
            },
            "404": {
              "description": "教师不存在",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/courses": {
      "get": {
        "tags": ["course"],
        "summary": "获取课程列表",
        "description": "分页获取课程列表信息",
        "operationId": "getCourses",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "每页条数",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 10
            }
          },
          {
            "name": "name",
            "in": "query",
            "description": "课程名称",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "courseId",
            "in": "query",
            "description": "课程编号",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "查询成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CoursePageResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["course"],
        "summary": "添加课程",
        "description": "添加新课程信息",
        "operationId": "addCourse",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "description": "课程信息",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CourseRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CourseResponse"
                }
              }
            }
          },
          "400": {
            "description": "参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/courses/{courseId}": {
      "get": {
        "tags": ["course"],
        "summary": "获取课程详情",
        "description": "根据课程编号获取课程详细信息",
        "operationId": "getCourseById",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "courseId",
            "in": "path",
            "description": "课程编号",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "查询成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CourseDetailResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "课程不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": ["course"],
        "summary": "修改课程信息",
        "description": "修改指定课程编号的课程信息",
        "operationId": "updateCourse",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "courseId",
            "in": "path",
            "description": "课程编号",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "description": "课程信息",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CourseRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "修改成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CourseResponse"
                }
              }
            }
          },
          "400": {
            "description": "参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "课程不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["course"],
        "summary": "删除课程",
        "description": "删除指定课程编号的课程信息",
        "operationId": "deleteCourse",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "courseId",
            "in": "path",
            "description": "课程编号",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "课程不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "/courses/{courseId}/students": {
        "get": {
          "tags": ["course", "course-selection"],
          "summary": "获取选修课程的学生列表",
          "description": "获取选修指定课程的学生列表",
          "operationId": "getCourseStudents",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "courseId",
              "in": "path",
              "description": "课程编号",
              "required": true,
              "schema": {
                "type": "string"
              }
            },
            {
              "name": "year",
              "in": "query",
              "description": "选课年份",
              "required": false,
              "schema": {
                "type": "integer"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "查询成功",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/CourseStudentResponse"
                  }
                }
              }
            },
            "401": {
              "description": "未授权",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  }
                }
              }
            },
            "404": {
              "description": "课程不存在",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/ErrorResponse"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/course-selections": {
      "get": {
        "tags": ["course-selection"],
        "summary": "获取选课列表",
        "description": "分页获取选课列表信息",
        "operationId": "getCourseSelections",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "每页条数",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 10
            }
          },
          {
            "name": "studentId",
            "in": "query",
            "description": "学号",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "courseId",
            "in": "query",
            "description": "课程编号",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "teacherId",
            "in": "query",
            "description": "教师编号",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "year",
            "in": "query",
            "description": "选课年份",
            "required": false,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "查询成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CourseSelectionPageResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["course-selection"],
        "summary": "添加选课",
        "description": "添加新选课信息",
        "operationId": "addCourseSelection",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "description": "选课信息",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CourseSelectionRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CourseSelectionResponse"
                }
              }
            }
          },
          "400": {
            "description": "参数错误或选课条件不满足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/course-selections/{id}": {
      "get": {
        "tags": ["course-selection"],
        "summary": "获取选课详情",
        "description": "根据选课ID获取选课详细信息",
        "operationId": "getCourseSelectionById",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "选课ID",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "查询成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CourseSelectionDetailResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "选课记录不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": ["course-selection"],
        "summary": "修改选课信息",
        "description": "修改指定选课ID的选课信息",
        "operationId": "updateCourseSelection",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "选课ID",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "description": "选课信息",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CourseSelectionRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "修改成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CourseSelectionResponse"
                }
              }
            }
          },
          "400": {
            "description": "参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "选课记录不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["course-selection"],
        "summary": "删除选课",
        "description": "删除指定选课ID的选课信息",
        "operationId": "deleteCourseSelection",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "选课ID",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "选课记录不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/scores": {
      "get": {
        "tags": ["score"],
        "summary": "获取成绩列表",
        "description": "获取成绩列表信息",
        "operationId": "getScores",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "studentId",
            "in": "query",
            "description": "学号",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "studentName",
            "in": "query",
            "description": "学生姓名",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "courseId",
            "in": "query",
            "description": "课程编号",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "courseName",
            "in": "query",
            "description": "课程名称",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "year",
            "in": "query",
            "description": "选课年份",
            "required": false,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "查询成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScorePageResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/scores/{id}": {
      "put": {
        "tags": ["score"],
        "summary": "修改学生成绩",
        "description": "修改学生指定课程的成绩",
        "operationId": "updateScore",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "选课ID",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "description": "成绩信息",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ScoreRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "修改成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScoreResponse"
                }
              }
            }
          },
          "400": {
            "description": "参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "选课记录不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/statistics/student/{studentId}/average": {
      "get": {
        "tags": ["statistics"],
        "summary": "获取学生平均成绩",
        "description": "获取指定学生的所有课程平均成绩",
        "operationId": "getStudentAverageScore",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "studentId",
            "in": "path",
            "description": "学号",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "year",
            "in": "query",
            "description": "选课年份",
            "required": false,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "查询成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AverageScoreResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "学生不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/statistics/class/{className}/average": {
      "get": {
        "tags": ["statistics"],
        "summary": "获取班级平均成绩",
        "description": "获取指定班级学生的平均成绩",
        "operationId": "getClassAverageScore",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "className",
            "in": "path",
            "description": "班级",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "year",
            "in": "query",
            "description": "选课年份",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "courseId",
            "in": "query",
            "description": "课程编号",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "查询成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AverageScoreResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/statistics/course/{courseId}/average": {
      "get": {
        "tags": ["statistics"],
        "summary": "获取课程平均成绩",
        "description": "获取指定课程的平均成绩",
        "operationId": "getCourseAverageScore",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "courseId",
            "in": "path",
            "description": "课程编号",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "year",
            "in": "query",
            "description": "选课年份",
            "required": false,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "查询成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AverageScoreResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "课程不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/statistics/all/average": {
      "get": {
        "tags": ["statistics"],
        "summary": "获取所有学生平均成绩",
        "description": "获取所有学生的平均成绩",
        "operationId": "getAllStudentsAverageScore",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "year",
            "in": "query",
            "description": "选课年份",
            "required": false,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "查询成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AllStudentsAverageScoreResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "LoginRequest": {
        "type": "object",
        "required": ["username", "password"],
        "properties": {
          "username": {
            "type": "string",
            "description": "用户名"
          },
          "password": {
            "type": "string",
            "description": "密码"
          }
        }
      },
      "LoginResponse": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer",
            "description": "状态码",
            "example": 200
          },
          "message": {
            "type": "string",
            "description": "消息",
            "example": "登录成功"
          },
          "data": {
            "type": "object",
            "properties": {
              "token": {
                "type": "string",
                "description": "认证令牌"
              },
              "role": {
                "type": "integer",
                "description": "角色ID",
                "example": 1
              },
              "roleName": {
                "type": "string",
                "description": "角色名称",
                "example": "admin"
              },
              "realId": {
                "type": "string",
                "description": "实际ID (学生学号/教师编号)",
                "example": "T00001"
              }
            }
          }
        }
      },
      "ErrorResponse": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer",
            "description": "错误代码"
          },
          "message": {
            "type": "string",
            "description": "错误消息"
          }
        }
      },
      "SuccessResponse": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer",
            "description": "状态码",
            "example": 200
          },
          "message": {
            "type": "string",
            "description": "消息",
            "example": "操作成功"
          },
          "data": {
            "type": "object",
            "description": "数据",
            "nullable": true
          }
        }
      },
      "StudentRequest": {
        "type": "object",
        "required": ["studentId", "name", "gender", "ageAtEnrollment", "enrollmentYear", "class"],
        "properties": {
          "studentId": {
            "type": "string",
            "description": "学号",
            "example": "2023001001"
          },
          "name": {
            "type": "string",
            "description": "姓名",
            "example": "张三"
          },
          "gender": {
            "type": "string",
            "description": "性别",
            "enum": ["男", "女"],
            "example": "男"
          },
          "ageAtEnrollment": {
            "type": "integer",
            "description": "入学年龄",
            "minimum": 10,
            "maximum": 50,
            "example": 18
          },
          "enrollmentYear": {
            "type": "integer",
            "description": "入学年份",
            "example": 2023
          },
          "class": {
            "type": "string",
            "description": "班级",
            "example": "计科2301"
          }
        }
      },
      "StudentResponse": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer",
            "description": "状态码",
            "example": 200
          },
          "message": {
            "type": "string",
            "description": "消息",
            "example": "操作成功"
          },
          "data": {
            "type": "object",
            "properties": {
              "studentId": {
                "type": "string",
                "description": "学号",
                "example": "2023001001"
              },
              "name": {
                "type": "string",
                "description": "姓名",
                "example": "张三"
              },
              "gender": {
                "type": "string",
                "description": "性别",
                "example": "男"
              },
              "ageAtEnrollment": {
                "type": "integer",
                "description": "入学年龄",
                "example": 18
              },
              "enrollmentYear": {
                "type": "integer",
                "description": "入学年份",
                "example": 2023
              },
              "class": {
                "type": "string",
                "description": "班级",
                "example": "计科2301"
              }
            }
          }
        }
      },
      "StudentPageResponse": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer",
            "description": "状态码",
            "example": 200
          },
          "message": {
            "type": "string",
            "description": "消息",
            "example": "查询成功"
          },
          "data": {
            "type": "object",
            "properties": {
              "total": {
                "type": "integer",
                "description": "总记录数",
                "example": 100
              },
              "pages": {
                "type": "integer",
                "description": "总页数",
                "example": 10
              },
              "current": {
                "type": "integer",
                "description": "当前页码",
                "example": 1
              },
              "size": {
                "type": "integer",
                "description": "每页大小",
                "example": 10
              },
              "records": {
                "type": "array",
                "description": "记录列表",
                "items": {
                  "type": "object",
                  "properties": {
                    "studentId": {
                      "type": "string",
                      "description": "学号",
                      "example": "2023001001"
                    },
                    "name": {
                      "type": "string",
                      "description": "姓名",
                      "example": "张三"
                    },
                    "gender": {
                      "type": "string",
                      "description": "性别",
                      "example": "男"
                    },
                    "class": {
                      "type": "string",
                      "description": "班级",
                      "example": "计科2301"
                    },
                    "enrollmentYear": {
                      "type": "integer",
                      "description": "入学年份",
                      "example": 2023
                    }
                  }
                }
              }
            }
          }
        }
      },
      "StudentDetailResponse": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer",
            "description": "状态码",
            "example": 200
          },
          "message": {
            "type": "string",
            "description": "消息",
            "example": "查询成功"
          },
          "data": {
            "type": "object",
            "properties": {
              "studentId": {
                "type": "string",
                "description": "学号",
                "example": "2023001001"
              },
              "name": {
                "type": "string",
                "description": "姓名",
                "example": "张三"
              },
              "gender": {
                "type": "string",
                "description": "性别",
                "example": "男"
              },
              "ageAtEnrollment": {
                "type": "integer",
                "description": "入学年龄",
                "example": 18
              },
              "enrollmentYear": {
                "type": "integer",
                "description": "入学年份",
                "example": 2023
              },
              "class": {
                "type": "string",
                "description": "班级",
                "example": "计科2301"
              },
              "courses": {
                "type": "array",
                "description": "选课信息",
                "items": {
                  "$ref": "#/components/schemas/CourseSelectionInfo"
                }
              }
            }
          }
        }
      },
      "StudentCourseResponse": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer",
            "description": "状态码",
            "example": 200
          },
          "message": {
            "type": "string",
            "description": "消息",
            "example": "查询成功"
          },
          "data": {
            "type": "object",
            "properties": {
              "studentId": {
                "type": "string",
                "description": "学号",
                "example": "2023001001"
              },
              "name": {
                "type": "string",
                "description": "姓名",
                "example": "张三"
              },
              "courses": {
                "type": "array",
                "description": "选课信息",
                "items": {
                  "$ref": "#/components/schemas/CourseSelectionInfo"
                }
              }
            }
          }
        }
      },
      "CourseSelectionInfo": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "选课ID",
            "example": 1
          },
          "courseId": {
            "type": "string",
            "description": "课程编号",
            "example": "CS10001"
          },
          "courseName": {
            "type": "string",
            "description": "课程名称",
            "example": "数据结构"
          },
          "teacherId": {
            "type": "string",
            "description": "教师编号",
            "example": "T0001"
          },
          "teacherName": {
            "type": "string",
            "description": "教师姓名",
            "example": "李四"
          },
          "credit": {
            "type": "number",
            "format": "float",
            "description": "学分",
            "example": 3.0
          },
          "selectionYear": {
            "type": "integer",
            "description": "选课年份",
            "example": 2023
          },
          "score": {
            "type": "number",
            "format": "float",
            "description": "成绩",
            "example": 85.5,
            "nullable": true
          }
        }
      },
      "TeacherRequest": {
        "type": "object",
        "required": ["teacherId", "name"],
        "properties": {
          "teacherId": {
            "type": "string",
            "description": "教师编号",
            "example": "T0001"
          },
          "name": {
            "type": "string",
            "description": "姓名",
            "example": "李四"
          },
          "courses": {
            "type": "array",
            "description": "可教授的课程",
            "items": {
              "type": "string",
              "description": "课程编号",
              "example": "CS10001"
            }
          }
        }
      },
      "TeacherResponse": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer",
            "description": "状态码",
            "example": 200
          },
          "message": {
            "type": "string",
            "description": "消息",
            "example": "操作成功"
          },
          "data": {
            "type": "object",
            "properties": {
              "teacherId": {
                "type": "string",
                "description": "教师编号",
                "example": "T0001"
              },
              "name": {
                "type": "string",
                "description": "姓名",
                "example": "李四"
              }
            }
          }
        }
      },
      "TeacherPageResponse": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer",
            "description": "状态码",
            "example": 200
          },
          "message": {
            "type": "string",
            "description": "消息",
            "example": "查询成功"
          },
          "data": {
            "type": "object",
            "properties": {
              "total": {
                "type": "integer",
                "description": "总记录数",
                "example": 50
              },
              "pages": {
                "type": "integer",
                "description": "总页数",
                "example": 5
              },
              "current": {
                "type": "integer",
                "description": "当前页码",
                "example": 1
              },
              "size": {
                "type": "integer",
                "description": "每页大小",
                "example": 10
              },
              "records": {
                "type": "array",
                "description": "记录列表",
                "items": {
                  "type": "object",
                  "properties": {
                    "teacherId": {
                      "type": "string",
                      "description": "教师编号",
                      "example": "T0001"
                    },
                    "name": {
                      "type": "string",
                      "description": "姓名",
                      "example": "李四"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "TeacherDetailResponse": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer",
            "description": "状态码",
            "example": 200
          },
          "message": {
            "type": "string",
            "description": "消息",
            "example": "查询成功"
          },
          "data": {
            "type": "object",
            "properties": {
              "teacherId": {
                "type": "string",
                "description": "教师编号",
                "example": "T0001"
              },
              "name": {
                "type": "string",
                "description": "姓名",
                "example": "李四"
              },
              "courses": {
                "type": "array",
                "description": "可教授的课程",
                "items": {
                  "type": "object",
                  "properties": {
                    "courseId": {
                      "type": "string",
                      "description": "课程编号",
                      "example": "CS10001"
                    },
                    "courseName": {
                      "type": "string",
                      "description": "课程名称",
                      "example": "数据结构"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "TeacherCourseResponse": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer",
            "description": "状态码",
            "example": 200
          },
          "message": {
            "type": "string",
            "description": "消息",
            "example": "查询成功"
          },
          "data": {
            "type": "object",
            "properties": {
              "teacherId": {
                "type": "string",
                "description": "教师编号",
                "example": "T0001"
              },
              "courses": {
                "type": "array",
                "description": "可教授的课程",
                "items": {
                  "type": "object",
                  "properties": {
                    "courseId": {
                      "type": "string",
                      "description": "课程编号",
                      "example": "CS10001"
                    },
                    "courseName": {
                      "type": "string",
                      "description": "课程名称",
                      "example": "数据结构"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "CoursePageResponse": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer",
            "description": "状态码",
            "example": 200
          },
          "message": {
            "type": "string",
            "description": "消息",
            "example": "查询成功"
          },
          "data": {
            "type": "object",
            "properties": {
              "total": {
                "type": "integer",
                "description": "总记录数",
                "example": 100
              },
              "pages": {
                "type": "integer",
                "description": "总页数",
                "example": 10
              },
              "current": {
                "type": "integer",
                "description": "当前页码",
                "example": 1
              },
              "size": {
                "type": "integer",
                "description": "每页大小",
                "example": 10
              },
              "records": {
                "type": "array",
                "description": "记录列表",
                "items": {
                  "type": "object",
                  "properties": {
                    "courseId": {
                      "type": "string",
                      "description": "课程编号",
                      "example": "CS10001"
                    },
                    "name": {
                      "type": "string",
                      "description": "课程名称",
                      "example": "数据结构"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "CourseDetailResponse": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer",
            "description": "状态码",
            "example": 200
          },
          "message": {
            "type": "string",
            "description": "消息",
            "example": "查询成功"
          },
          "data": {
            "type": "object",
            "properties": {
              "courseId": {
                "type": "string",
                "description": "课程编号",
                "example": "CS10001"
              },
              "name": {
                "type": "string",
                "description": "课程名称",
                "example": "数据结构"
              },
              "credit": {
                "type": "number",
                "format": "float",
                "description": "学分",
                "example": 3.0
              },
              "description": {
                "type": "string",
                "description": "课程描述"
              },
              "teacherId": {
                "type": "string",
                "description": "教师编号",
                "example": "T0001"
              },
              "teacherName": {
                "type": "string",
                "description": "教师姓名",
                "example": "李四"
              },
              "students": {
                "type": "array",
                "description": "选课学生列表",
                "items": {
                  "$ref": "#/components/schemas/CourseSelectionInfo"
                }
              }
            }
          }
        }
      },
      "CourseStudentResponse": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer",
            "description": "状态码",
            "example": 200
          },
          "message": {
            "type": "string",
            "description": "消息",
            "example": "查询成功"
          },
          "data": {
            "type": "object",
            "properties": {
              "courseId": {
                "type": "string",
                "description": "课程编号",
                "example": "CS10001"
              },
              "name": {
                "type": "string",
                "description": "课程名称",
                "example": "数据结构"
              },
              "students": {
                "type": "array",
                "description": "选课学生列表",
                "items": {
                  "$ref": "#/components/schemas/CourseSelectionInfo"
                }
              }
            }
          }
        }
      },
      "CourseSelectionRequest": {
        "type": "object",
        "required": ["studentId", "courseId"],
        "properties": {
          "studentId": {
            "type": "string",
            "description": "学生学号"
          },
          "courseId": {
            "type": "string",
            "description": "课程编号"
          }
        }
      },
      "CourseSelectionResponse": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer",
            "description": "状态码",
            "example": 200
          },
          "message": {
            "type": "string",
            "description": "消息",
            "example": "选课添加成功"
          },
          "data": {
            "type": "object",
            "properties": {
              "id": {
                "type": "integer",
                "description": "选课ID"
              },
              "studentId": {
                "type": "string",
                "description": "学生学号"
              },
              "courseId": {
                "type": "string",
                "description": "课程编号"
              }
            }
          }
        }
      },
      "CourseSelectionPageResponse": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer",
            "description": "状态码",
            "example": 200
          },
          "message": {
            "type": "string",
            "description": "消息",
            "example": "查询成功"
          },
          "data": {
            "type": "object",
            "properties": {
              "total": {
                "type": "integer",
                "description": "总记录数",
                "example": 100
              },
              "pages": {
                "type": "integer",
                "description": "总页数",
                "example": 10
              },
              "current": {
                "type": "integer",
                "description": "当前页码",
                "example": 1
              },
              "size": {
                "type": "integer",
                "description": "每页大小",
                "example": 10
              },
              "records": {
                "type": "array",
                "description": "记录列表",
                "items": {
                  "$ref": "#/components/schemas/CourseSelectionDetailResponse"
                }
              }
            }
          }
        }
      },
      "CourseSelectionDetailResponse": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer",
            "description": "状态码",
            "example": 200
          },
          "message": {
            "type": "string",
            "description": "消息",
            "example": "查询成功"
          },
          "data": {
            "type": "object",
            "properties": {
              "id": {
                "type": "integer",
                "description": "选课ID"
              },
              "studentId": {
                "type": "string",
                "description": "学生学号"
              },
              "courseId": {
                "type": "string",
                "description": "课程编号"
              },
              "courseName": {
                "type": "string",
                "description": "课程名称"
              },
              "teacherId": {
                "type": "string",
                "description": "教师编号"
              },
              "teacherName": {
                "type": "string",
                "description": "教师姓名"
              },
              "credit": {
                "type": "number",
                "format": "float",
                "description": "学分"
              },
              "selectionYear": {
                "type": "integer",
                "description": "选课年份"
              },
              "score": {
                "type": "number",
                "format": "float",
                "description": "成绩",
                "nullable": true
              }
            }
          }
        }
      },
      "ScoreRequest": {
        "type": "object",
        "required": ["score"],
        "properties": {
          "score": {
            "type": "number",
            "format": "float",
            "description": "成绩"
          }
        }
      },
      "ScoreResponse": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer",
            "description": "状态码",
            "example": 200
          },
          "message": {
            "type": "string",
            "description": "消息",
            "example": "成绩更新成功"
          },
          "data": {
            "type": "object",
            "properties": {
              "id": {
                "type": "integer",
                "description": "选课ID"
              },
              "score": {
                "type": "number",
                "format": "float",
                "description": "成绩"
              }
            }
          }
        }
      },
      "ScorePageResponse": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer",
            "description": "状态码",
            "example": 200
          },
          "message": {
            "type": "string",
            "description": "消息",
            "example": "查询成功"
          },
          "data": {
            "type": "object",
            "properties": {
              "total": {
                "type": "integer",
                "description": "总记录数",
                "example": 100
              },
              "pages": {
                "type": "integer",
                "description": "总页数",
                "example": 10
              },
              "current": {
                "type": "integer",
                "description": "当前页码",
                "example": 1
              },
              "size": {
                "type": "integer",
                "description": "每页大小",
                "example": 10
              },
              "records": {
                "type": "array",
                "description": "记录列表",
                "items": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "description": "选课ID"
                    },
                    "studentId": {
                      "type": "string",
                      "description": "学生学号"
                    },
                    "studentName": {
                      "type": "string",
                      "description": "学生姓名"
                    },
                    "courseId": {
                      "type": "string",
                      "description": "课程编号"
                    },
                    "courseName": {
                      "type": "string",
                      "description": "课程名称"
                    },
                    "score": {
                      "type": "number",
                      "format": "float",
                      "description": "成绩"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "AverageScoreResponse": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer",
            "description": "状态码",
            "example": 200
          },
          "message": {
            "type": "string",
            "description": "消息",
            "example": "查询成功"
          },
          "data": {
            "type": "object",
            "properties": {
              "target": {
                "type": "string",
                "description": "统计对象(学生/课程/班级)",
                "example": "学生张三(2023001001)"
              },
              "averageScore": {
                "type": "number",
                "format": "float",
                "description": "平均成绩",
                "example": 85.5
              },
              "year": {
                "type": "integer",
                "description": "统计年份",
                "example": 2023,
                "nullable": true
              }
            }
          }
        }
      },
      "AllStudentsAverageScoreResponse": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer",
            "description": "状态码",
            "example": 200
          },
          "message": {
            "type": "string",
            "description": "消息",
            "example": "查询成功"
          },
          "data": {
            "type": "object",
            "properties": {
              "year": {
                "type": "integer",
                "description": "统计年份",
                "example": 2023,
                "nullable": true
              },
              "averageScore": {
                "type": "number",
                "format": "float",
                "description": "总平均成绩",
                "example": 82.5
              },
              "studentAverages": {
                "type": "array",
                "description": "学生平均成绩列表",
                "items": {
                  "type": "object",
                  "properties": {
                    "studentId": {
                      "type": "string",
                      "description": "学号",
                      "example": "2023001001"
                    },
                    "studentName": {
                      "type": "string",
                      "description": "学生姓名",
                      "example": "张三"
                    },
                    "averageScore": {
                      "type": "number",
                      "format": "float",
                      "description": "平均成绩",
                      "example": 85.5
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    }
  }
}
